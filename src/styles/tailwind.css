@tailwind base;

@tailwind components;

body {
	@apply text-lg;
	/* @apply text-lg bg-offwhite; */
	background: #fafafd;
}

/* === Headers === === === === === === === === === === === === === === ===   */
/* Tiny screen default */
.post h1 {
	@apply mb-3 text-4xl leading-tight border-b-4 border-offblack font-jdheader;
}
/* Increase font size on larger screens */
@screen sm {
	.post h1 {
		@apply text-4xl;
	}
}

.post h2 {
	@apply mt-6 mb-3 mr-6 text-3xl leading-tight border-b-2 border-offblack font-jdheader;
}
/* Increase font size on larger screens */
@screen sm {
	.post h2 {
		@apply text-3xl;
	}
}

.post h3 {
	@apply mt-6 mb-3 mr-10 text-2xl leading-tight border-b-2 border-gray-700 font-jdheader;
}
/* Increase font size on larger screens */
@screen sm {
	.post h3 {
		@apply text-2xl;
	}
}

/* === Paragraph + body text === === === === === === === === === === === === */
/* TODO Okay here's where this `>` became important. Without it, a <p> in a
				<div.footnote>, for example, takes this styline and you can't get rid
				of it. So this is the next thing to do when you look at this on Monday.

				I wonder if you can use something like `.footnote-wrapper *` and un-
				style that class, so the <p> in there doesn't pick up the previous.
 */

/* In all <p> that are any descendant of a .post, apply the margin. This
	 ensures spacing between all elements regardless of whether they're nested
	 in a <div> for some reason.

	 Ooh this is a nice solution. You can add .style-override to any <p> and it'll
	 be ignored.
 */
.post p:not(.style-override) {
	@apply mb-4 mr-2;
}

.post strong {
	/* The default is a little too bold (700) */
	@apply font-semibold;
}

/* === Lists === === === === === === === === === === === === === === === === */
.post ol {
	@apply mb-4 ml-8 mr-6 list-decimal list-outside;
}

.post ul {
	@apply mb-4 ml-8 mr-6 list-disc list-outside;
}

/* === Footnote === === === === === === === === === === === === === === ===  */
.footnote-wrapper {
	@apply py-2 my-6 mr-6 text-sm italic border border-b-2 border-l-4 border-gray-800 rounded shadow bg-gray-50;
}
@screen sm {
	.footnote-wrapper {
		@apply mr-20;
	}
}

ol.footnote {
	@apply px-4 m-0 ml-4;
}

ul.footnote {
	@apply px-4 m-0 ml-4;
}

p.footnote {
	@apply px-4 m-0 mb-0;
}

/* === Dividers === === === === === === === === === === === === === === ===  */
.post hr {
	border: 0;
	height: 1px;
	background: #555;
	background-image: linear-gradient(to right, #ddd, #555, #ddd);
	@apply m-4;
}
@screen sm {
	.post hr {
		@apply m-8;
	}
}

/* === Spec links === === === === === === === === === === === === === === == */
.spec-post a:link {
	@apply border-b-2 border-blue-600;
}

.spec-post a:visited {
	@apply border-b-2 border-gray-400;
}

.spec-post a:hover {
	@apply text-blue-600 border-b-4 border-blue-600;
}

.spec-post a:focus {
	@apply text-blue-600 border-b-4 border-blue-600 outline-none;
}

.spec-post a:active {
	@apply bg-blue-600 border-b-2 border-blue-600 text-offwhite;
}

a.no-style-link:link {
	@apply underline border-b-0;
}

/* ==  Table of contents == */
nav.tableofcontents a:link {
}
nav.tableofcontents a:visited {
}
nav.tableofcontents a:hover {
	@apply font-semibold;
}
nav.tableofcontents a:focus {
	@apply pl-2 font-semibold border-2 rounded shadow-md outline-none border-offblack;
}
/* Remember, a:focus cascades to a:active. */
nav.tableofcontents a:active {
	@apply font-semibold text-blue-600 border-none shadow-none;
}

/* ==  Header == */
a#spec-header:focus {
	@apply bg-blue-600 border-blue-600 outline-none text-offwhite;
}
a#blog-header:focus {
	@apply bg-yellow-600 border-yellow-600 outline-none text-offwhite;
}

/* === Decimal === === === === === === === === === === === === === === ===   */
.jd-inline {
	@apply px-1 whitespace-pre border border-blue-700 rounded-sm bg-blue-50 font-jdmono;
	/* @apply px-1 whitespace-pre bg-blue-100 border border-blue-900 rounded-sm font-jdmono; */
}

.jd-block {
	@apply inline-block px-4 py-2 text-sm whitespace-pre border-2 border-blue-700 rounded-sm shadow-md bg-blue-50 font-jdmono;
}
@screen sm {
	.jd-block {
		@apply text-base;
	}
}

/* === Blinking cursor === === === === === === === === === === === === ===   */
/* Stolen: https://codepen.io/ArtemGordinsky/pen/GnLBq */
.blinking-cursor {
	font-weight: 400;
	font-size: 20px;
	color: #ffffff;
	-webkit-animation: 1s blink step-end infinite;
	-moz-animation: 1s blink step-end infinite;
	-ms-animation: 1s blink step-end infinite;
	-o-animation: 1s blink step-end infinite;
	animation: 1s blink step-end infinite;
}

@keyframes "blink" {
	from,
	to {
		color: transparent;
	}
	50% {
	}
}

@-moz-keyframes blink {
	from,
	to {
		color: transparent;
	}
	50% {
		color: orange;
	}
}

@-webkit-keyframes "blink" {
	from,
	to {
		color: transparent;
	}
	50% {
		color: orange;
	}
}

@-ms-keyframes "blink" {
	from,
	to {
		color: transparent;
	}
	50% {
		color: orange;
	}
}

@-o-keyframes "blink" {
	from,
	to {
		color: transparent;
	}
	50% {
		color: orange;
	}
}

/* === Images === === === === === === === === === === === === === === ===    */
.gatsby-resp-image-wrapper {
	@apply mb-6 border border-gray-400 rounded-sm shadow-md;
}

img.screenshot {
	@apply border border-gray-500 rounded-sm shadow-md;
}

/* === Email subject === === === === === === === === === === === === === === */
.emailSubject {
	@apply p-1 mb-4 text-sm bg-gray-200 border border-gray-600 rounded-sm font-jdmono;
	text-indent: -9ch;
	padding-left: 10ch;
	/* white-space: normal; */
}
@screen sm {
	.emailSubject {
		@apply text-base;
	}
}

/* ===========================================================================
	 ALL THE BLOG STUFF HERE
	 ==========================================================================*/
/* === Blog links === === === === === === === === === === === === === === == */
.blog-post a:link {
	@apply border-b-2 border-yellow-600;
}

.blog-post a:visited {
	@apply border-b-2 border-gray-400;
}

.blog-post a:hover {
	@apply text-yellow-600 border-b-4 border-yellow-600;
}

.blog-post a:focus {
	@apply text-yellow-600 border-b-4 border-yellow-600 outline-none;
}

.blog-post a:active {
	@apply bg-yellow-600 border-b-2 border-yellow-600 text-offwhite;
}

a.no-style-link:link {
	@apply underline border-b-0;
}

/* == Blog blockquote (which is the date) == */
.blog-post blockquote {
	@apply text-sm text-gray-700;
}

/* == The thing where you hide certain 'BlogIndexItem's depending on whether
			they have a class assigned, that class corresponding to the #tag.

			1. On each new tag index page that you create, wrap <BlogIndexItems />
			   in a div with a class of `blog-tag-{the tag}`.
			2. The definition here then identifies just that div on just that page,
				 and within that div it hides anything that does *not* include the class
				 which is the tag.
			3. That class gets loaded on to that div in the definition of
			   <BlogIndexItem />.
 */
.blog-tag-new-system .blog-index-item:not(.new-system) {
	@apply hidden;
}

/* === END === === === === === === === === === === === === === === === ===   */

@tailwind utilities;
